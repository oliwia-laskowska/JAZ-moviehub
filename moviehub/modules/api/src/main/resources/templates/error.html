<!doctype html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>MovieHub - Error</title>
    <style>
        body { font-family: system-ui; padding: 24px; max-width: 980px; margin: 0 auto; }
        h1 { margin: 0 0 6px; }
        .muted { color:#666; }
        .card { border: 1px solid #ddd; padding: 16px; border-radius: 12px; margin: 12px 0; }
        a { color:#111; }
        code { background:#f3f3f3; padding:2px 6px; border-radius:6px; }
        .row { display:flex; gap:12px; flex-wrap: wrap; }
        .kv { margin: 10px 0; }
        .kv b { display:inline-block; min-width: 120px; }
        .btn {
            display:inline-block; padding: 10px 14px; border-radius: 10px;
            border: 1px solid #333; background: #111; color: #fff; text-decoration:none;
        }
        .btn.secondary { background:#444; border-color:#444; }
    </style>
</head>
<body>

<h1>Coś poszło nie tak</h1>
<div class="muted">Jeśli błąd się powtarza, sprawdź logi aplikacji.</div>

<div class="card">
    <div class="row">
        <div class="kv" th:if="${status}">
            <b>Status:</b> <span th:text="${status}">500</span>
        </div>

        <div class="kv" th:if="${error}">
            <b>Błąd:</b> <span th:text="${error}">Internal Server Error</span>
        </div>
    </div>

    <div class="kv" th:if="${message}">
        <b>Wiadomość:</b> <span th:text="${message}">—</span>
    </div>

    <div class="kv" th:if="${path}">
        <b>Ścieżka:</b> <code th:text="${path}">/</code>
    </div>

    <div class="kv" th:if="${timestamp}">
        <b>Czas:</b> <span th:text="${timestamp}">—</span>
    </div>

    <!-- Opcjonalnie: pokaż trace tylko jeśli Spring go w ogóle wystawi (zwykle nie) -->
    <details th:if="${trace}" style="margin-top: 12px;">
        <summary style="cursor:pointer;">Szczegóły techniczne</summary>
        <pre th:text="${trace}" style="white-space: pre-wrap; margin: 10px 0 0;"></pre>
    </details>

    <div style="margin-top: 14px; display:flex; gap:10px; flex-wrap:wrap;">
        <a class="btn secondary" href="/">← Strona główna</a>
        <a class="btn" href="/actuator/health" target="_blank" rel="noreferrer">Sprawdź health</a>
    </div>
</div>



</body>
</html>
